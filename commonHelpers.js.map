{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_XaDOlWdJOSUjjdvdR99bU6UBO5wwUvUP0vR0gjPrtVs2YssEWHnbGu1nmo6OGOG0';\n\nexport async function fetchBreeds() {\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(res => res.data);\n}\n\nexport async function fetchCatByBreed(breedId) {\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(res => res.data);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  title: document.querySelector('.animate__animated'),\n};\n\nfunction showElement(element, isVisible) {\n  element.classList.toggle('hidden', !isVisible);\n}\n\nrefs.title.classList.add('animate__animated', 'animate__zoomInDown');\n\nrefs.title.addEventListener('animationend', () => {\n  searchCats();\n});\n\nshowElement(refs.breedSelect, false);\nshowElement(refs.loader, true);\n\nasync function onSelectCats() {\n  try {\n    showElement(refs.loader, true);\n    showElement(refs.catInfo, false);\n    const catId = refs.breedSelect.value;\n    const data = await fetchCatByBreed(catId);\n    markupCats(data);\n  } catch (error) {\n    iziToast.show({\n      position: 'topRight',\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    });\n  }\n  showElement(refs.loader, false);\n}\n\nfunction markupCats(data) {\n  const imgCats = data[0].url;\n  const infoCats = data[0].breeds[0];\n  const cat = `<div class=\"card\">\n  <img class=\"img\" src=\"${imgCats}\" alt=\"${infoCats.name}\"/>\n      <div class=\"info\">\n        <h2 class=\"name\">${infoCats.name}</h2>\n        <p><span class=\"description\">Description: </span> ${infoCats.description}</p>\n        <p><span class=\"temperament\">Temperament: </span> ${infoCats.temperament}</p>   \n       </div>\n</div>`;\n\n  refs.catInfo.innerHTML = cat;\n  showElement(refs.catInfo, true);\n}\n\nasync function searchCats() {\n  try {\n    const breeds = await fetchBreeds();\n    const options = breeds\n      .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n      .join('');\n    refs.breedSelect.innerHTML = options;\n    showElement(refs.breedSelect, true);\n    refs.breedSelect.addEventListener('change', onSelectCats);\n  } catch (error) {\n    iziToast.show({\n      position: 'topRight',\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    });\n  }\n  showElement(refs.loader, false);\n}\n"],"names":["axios","fetchBreeds","res","fetchCatByBreed","breedId","refs","showElement","element","isVisible","searchCats","onSelectCats","catId","data","markupCats","iziToast","imgCats","infoCats","cat","options","id","name"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKE,GAAOA,EAAI,IAAI,CACzB,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,OAAO,MAAMJ,EACV,IAAI,wDAAwDI,GAAS,EACrE,KAAKF,GAAOA,EAAI,IAAI,CACzB,CCXA,MAAMG,EAAO,CACX,YAAa,SAAS,cAAc,eAAe,EACnD,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,oBAAoB,CACpD,EAEA,SAASC,EAAYC,EAASC,EAAW,CACvCD,EAAQ,UAAU,OAAO,SAAU,CAACC,CAAS,CAC/C,CAEAH,EAAK,MAAM,UAAU,IAAI,oBAAqB,qBAAqB,EAEnEA,EAAK,MAAM,iBAAiB,eAAgB,IAAM,CAChDI,GACF,CAAC,EAEDH,EAAYD,EAAK,YAAa,EAAK,EACnCC,EAAYD,EAAK,OAAQ,EAAI,EAE7B,eAAeK,GAAe,CAC5B,GAAI,CACFJ,EAAYD,EAAK,OAAQ,EAAI,EAC7BC,EAAYD,EAAK,QAAS,EAAK,EAC/B,MAAMM,EAAQN,EAAK,YAAY,MACzBO,EAAO,MAAMT,EAAgBQ,CAAK,EACxCE,EAAWD,CAAI,CAChB,MAAC,CACAE,EAAS,KAAK,CACZ,SAAU,WACV,QAAS,qDACf,CAAK,CACF,CACDR,EAAYD,EAAK,OAAQ,EAAK,CAChC,CAEA,SAASQ,EAAWD,EAAM,CACxB,MAAMG,EAAUH,EAAK,GAAG,IAClBI,EAAWJ,EAAK,GAAG,OAAO,GAC1BK,EAAM;AAAA,0BACYF,WAAiBC,EAAS;AAAA;AAAA,2BAEzBA,EAAS;AAAA,4DACwBA,EAAS;AAAA,4DACTA,EAAS;AAAA;AAAA,QAInEX,EAAK,QAAQ,UAAYY,EACzBX,EAAYD,EAAK,QAAS,EAAI,CAChC,CAEA,eAAeI,GAAa,CAC1B,GAAI,CAEF,MAAMS,GADS,MAAMjB,KAElB,IAAI,CAAC,CAAE,GAAAkB,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,EACVf,EAAK,YAAY,UAAYa,EAC7BZ,EAAYD,EAAK,YAAa,EAAI,EAClCA,EAAK,YAAY,iBAAiB,SAAUK,CAAY,CACzD,MAAC,CACAI,EAAS,KAAK,CACZ,SAAU,WACV,QAAS,qDACf,CAAK,CACF,CACDR,EAAYD,EAAK,OAAQ,EAAK,CAChC"}